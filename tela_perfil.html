<!--
   
  Descrição: Tela de Perfil das Pessoas Acolhidas Cadastradas na Aplicação.

-->

<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Casa de Adulão - Perfil do Usuário</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="./styles/style.css">
</head>

<body>

  <nav class="menu-lateral">

    <div class="btn-expandir">
      <i class="bi bi-list" id="btn-exp"></i>
    </div>

    <ul>
      <li class="item-menu">
        <a href="tela_inicial.html">
          <span class="icon"><i class="bi bi-house-door"></i></span>
          <span class="txt-link">Inicio</span>
        </a>
      </li>
      <li class="item-menu">
        <a href="lista_pessoal.html">
          <span class="icon"><i class="bi bi-people-fill"></i></span>
          <span class="txt-link">Pessoal</span>
        </a>
      </li>
      <li class="item-menu">
        <a href="lista_atividades.html">
          <span class="icon"><i class="bi bi-columns-gap"></i></span>
          <span class="txt-link">Atividades</span>
        </a>
      </li>
      <li class="item-menu">
        <a href="tela_perfil.html">
          <span class="icon"><i class="bi bi-person-vcard-fill"></i></span>
          <span class="txt-link">Perfil</span>
        </a>
      </li>
      <li class="item-menu">
        <a href="index.html">
          <span class="icon"><i class="bi bi-box-arrow-left"></i></bi></span>
          <span class="txt-link">Sair</span>
        </a>
      </li>
    </ul>
    
  </nav>


  <script src="cadastro.js"></script>
  <div class="">
    <form id="profileForm">
      <h2>Perfil do Usuário</h2>
      <label for="name">Nome:</label>
      <input type="text" id="name" name="name" required placeholder="Nome de Usuário"><br>
      <label for="email">Email:</label>
      <input type="text" id="email" name="email" required placeholder="email de usuário"><br>
      <label for="password">Nova Senha:</label>
      <input type="password" id="password" name="password" required placeholder="Senha Atual"><br>
      <label for="confirmPassword">Confirmar Senha:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" required placeholder="Nova Senha"><br>
      <div id="passwordError" class="error-message" style="display:none;">As senhas não coincidem.</div>
      <input class="button" type="submit" value="Salvar">
    </form>
  </div>

  <script>
    // Simulando dados do usuário logado (pode ser substituído por dados reais de um backend)
    const user = {
      name: "Usuário Teste",
      email: "teste@example.com"
    };

    // Preenche os campos do formulário com os dados do usuário logado
    document.getElementById('name').value = user.name;
    document.getElementById('email').value = user.email;

    // Função para lidar com o envio do formulário
    document.getElementById('profileForm').addEventListener('submit', function (event) {
      event.preventDefault(); // Evita o envio padrão do formulário

      // Obtém os novos valores dos campos
      const newName = document.getElementById('name').value;
      const newEmail = document.getElementById('email').value;
      const newPassword = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;

      // Verifica se as senhas coincidem
      if (newPassword !== confirmPassword) {
        document.getElementById('passwordError').style.display = 'block';
        return;
      } else {
        document.getElementById('passwordError').style.display = 'none';
      }

      // Aqui você pode fazer uma solicitação para o backend para atualizar os dados do usuário
      // Por simplicidade, apenas exibiremos os novos valores no console
      console.log("Novo nome:", newName);
      console.log("Novo email:", newEmail);
      console.log("Nova senha:", newPassword);

      // Limpa os campos de senha após o envio
      document.getElementById('password').value = '';
      document.getElementById('confirmPassword').value = '';
    });
  </script>
</body>

</html>